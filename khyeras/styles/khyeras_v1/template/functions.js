function checkForClasses(e){return e.className?" ":""}function addBodyClass(){var e=document.getElementsByTagName("body");if(e[0].getAttribute("data-class"))var a=e[0].getAttribute("data-class").replace(/[^a-zA-Z ]/g,"").trim().replace(/ /g,"-").replace(/-+/g,"-");a&&(e[0].className+=checkForClasses(e[0])+a)}function addForumImageClass(){var e=document.querySelectorAll(".list-inner .forum-image");if(e.length)for(var a=0;a<e.length;a++){var o=e[a].parentNode.parentNode.parentNode;o.className+=checkForClasses(o)+"has-forum-image"}}function addFieldsetClasses(e){var a=document.querySelectorAll("fieldset dl dd");if(console.log(a),a.length)for(var o=0;o<a.length;o++)a[o].children.length>1&&(a[o].className+=checkForClasses(a[o])+"has-multiple-fields"),-1!==a[o].innerHTML.indexOf("&nbsp;")&&(a[o].className+=checkForClasses(a[o])+"has-space")}function checkForSpace(e){jQuery(e).each(function(){var e=jQuery(this);"&nbsp;"==e.html()||"<label>&nbsp;</label>"==e.html()?e.addClass("empty-space"):e.removeClass("empty-space")})}function addScrollableArea(e,a,o){e.length&&e[0].scrollHeight>a?(e.addClass("scrollable"),e.wrapInner('<div class="scrollable-wrapper"></div>')):o.hide()}function updateaAttachmentDisplay(e){jQuery(e).on("click",function(e){var a=jQuery(this).closest(".file").parent();a.hasClass("image-expanded")?a.removeClass("image-expanded"):a.addClass("image-expanded")})}function formatDisplayActions(){jQuery(".display-actions").each(function(){var e=jQuery(this);e.html(e.html().replace(/&nbsp;/g,"").replace(/::/g,"&bull;"));var a=e.find(" div a");-1!==a.text().toLowerCase().indexOf("mark")&&a.parent("div").addClass("mark-actions");var o=e.children("select");o.each(function(){jQuery(this).next(".button1, .button2").addBack().wrapAll('<div class="select-actions"></div>')}),e.wrapInner('<div class="display-actions-wrapper"></div>')})}function addOnScroll(e,a,o){var a=jQuery(a).offset().top,n=jQuery(window),s=!1;n.scroll(function(){0==s?n.scrollTop()>a&&(jQuery(e).addClass(o),s=!0):n.scrollTop()<=a&&(jQuery(e).removeClass(o),s=!1)})}function addStickyNav(e,a){var a=jQuery(a).offset().top,o=jQuery(window),n=!1;o.scroll(function(){0==n?o.scrollTop()>a&&(jQuery(e).addClass("sticky"),n=!0):o.scrollTop()<=a&&(jQuery(e).removeClass("sticky"),n=!1)})}function scrollOnPage(e,a,o){addOnScroll(e,".site-description","scroll-to-visible"),jQuery(e).on("click",function(){return jQuery("html, body").animate({scrollTop:o},1e3),!1})}function toggleMobileContent(e,a){jQuery(e).off().on("click",function(){jQuery(a).hasClass("toggle-show")?jQuery(a).removeClass("toggle-show"):jQuery(a).addClass("toggle-show")})}function debounce(e,a,o){var n;return function(){var s=this,l=arguments,t=function(){n=null,o||e.apply(s,l)},i=o&&!n;clearTimeout(n),n=setTimeout(t,a),i&&e.apply(s,l)}}function initializeMobileMenu(e){function a(){t.hasClass("show")?(t.removeClass("show"),jQuery("body, html").removeClass("mobile-open")):(t.addClass("show"),jQuery("body, html").addClass("mobile-open"))}function o(){var o=window.innerWidth/baseFontSize,l=document.documentElement.clientWidth/baseFontSize,c=document.body.clientWidth/baseFontSize,d=i/baseFontSize;if(d>=(o||l||c)){if(!r){jQuery(".mobile-menu-header .fa-times").off().on("click",function(){a()}),n.detach().appendTo(t),n.children(".dropdown-container").each(function(){jQuery('<i class="icon fa-chevron-right slide-submenu"></i>').appendTo(this)});var u=jQuery(e.mobileMenu+" > ul > li");u.find(" .slide-submenu").off().on("click",function(){var e=jQuery(this).parent();e.hasClass("dropdown-open")?(u.removeClass("dropdown-close"),e.removeClass("dropdown-open")):(u.addClass("dropdown-close"),e.removeClass("dropdown-close").addClass("dropdown-open"))}),r=!0}}else r&&(n.detach().appendTo(s),jQuery(".slide-submenu").remove(),jQuery("li").removeClass("dropdown-close").removeClass("dropdown-open"),jQuery("body, html").removeClass("mobile-open"),t.removeClass("show"),r=!1)}var n=jQuery(e.menu),s=jQuery(e.menuContainer),l=jQuery(e.mobileButton),t=jQuery(e.mobileMenu),i=e.width,r=!1;l.off().on("click",function(){a()}),o();var c=debounce(function(){o()},100);window.addEventListener("resize",c)}addBodyClass(),addForumImageClass(),addFieldsetClasses();var bottomDistance=jQuery(document).height()+jQuery(window).height(),baseFontSize=16;jQuery(document).ready(function(e){checkForSpace("fieldset dl dt"),checkForSpace("dl.details dt"),addScrollableArea(e(".topicreview"),400,e(".review .right-box")),addScrollableArea(e(".mcp-main #post_details"),400,e(".mcp-main .post-buttons #expand"));var a=".attach-image";e(a).each(function(){e(this).prepend('<span class="image-open" onclick="viewableArea(this);"><i class="icon icon-xl fa-search-plus fa-fw" aria-hidden="true"></i></span>')}),updateaAttachmentDisplay(".image-open"),updateaAttachmentDisplay(a+" img"),formatDisplayActions();var o=e("#pmheader-postingbox");0==e(o).find("fieldset.fields1").children().length&&e(o).hide();var n=e(".mcp-main .pagination");0==e(n).find("ul").children().length&&e(n).hide();var s=e(".cp-menu"),l=e(".cp-main");(s||l)&&(s.parent().addClass("cp-wrapper"),l.parent().addClass("cp-wrapper")),e("body").hasClass("simple-phpbb")||(addOnScroll("#page-header .navbar",".header-overlay","sticky"),scrollOnPage(".scroll-to-top",100,0),scrollOnPage(".scroll-to-bottom",100,bottomDistance)),toggleMobileContent(".toggle-links a","#page-welcome .site-callouts .site-links"),toggleMobileContent(".toggle-featured a","#featured-content"),initializeMobileMenu({menu:"#page-header .navbar > ul",menuContainer:"#page-header .navbar",mobileButton:".mobile-menu-button",mobileMenu:"#mobile-menu",width:768})});