function checkForClasses(e){return e.className?" ":""}function isMobile(e,o){var a=window.innerWidth/e,n=document.documentElement.clientWidth/e,t=document.body.clientWidth/e;return o>=(a||n||t)}function addBodyClass(){if(body.getAttribute("data-class"))var e=body.getAttribute("data-class").replace(/[^a-zA-Z ]/g,"").trim().replace(/ /g,"-").replace(/-+/g,"-");e&&(body.className+=checkForClasses(body)+e)}function addForumImageClass(){var e=document.querySelectorAll(".list-inner .forum-image");if(e.length)for(var o=0;o<e.length;o++){var a=e[o].parentNode.parentNode.parentNode;a.className+=checkForClasses(a)+"has-forum-image"}}function addFieldsetClasses(e){var o=document.querySelectorAll("fieldset:not(.polls) dl:not(.pmlist) dd");if(o.length)for(var a=0;a<o.length;a++)o[a].children.length>1&&(o[a].className+=checkForClasses(o[a])+"has-multiple-fields"),-1!==o[a].innerHTML.indexOf("&nbsp;")&&(o[a].className+=checkForClasses(o[a])+"has-space")}function addNoPaginationClass(){var e=document.querySelector(".action-bar .pagination");if(e){var o=e.innerText.toLowerCase(),a="page 1 of 1";if(-1!==o.indexOf(a)){var n=new RegExp(a,"gi"),t=o.replace(n,"").match(/\d+/g);t&&0>=t&&(body.className+=checkForClasses(body)+"no-pagination")}}}function addImageWrapper(e){var o=document.querySelectorAll(e);if(o.length)for(var a=0;a<o.length;a++){var n=document.createElement("div");n.setAttribute("class","image-wrap"),o[a].parentNode.insertBefore(n,o[a]),n.appendChild(o[a])}}function checkForEmpty(e){var o=document.querySelectorAll(e);if(o.length)for(var a=0;a<o.length;a++)o[a].parentNode.style.display="none"}function checkForSpace(e){jQuery(e).each(function(){var e=jQuery(this);"&nbsp;"==e.html()||"<label>&nbsp;</label>"==e.html()?e.addClass("empty-space"):e.removeClass("empty-space")})}function addScrollableArea(e,o,a){e.length&&e[0].scrollHeight>o?(e.addClass("scrollable"),e.wrapInner('<div class="scrollable-wrapper"></div>')):a.hide()}function updateaAttachmentDisplay(e){jQuery(e).on("click",function(e){var o=jQuery(this).closest(".file").parent();o.hasClass("image-expanded")?o.removeClass("image-expanded"):o.addClass("image-expanded")})}function formatDisplayActions(){jQuery(".display-actions").each(function(){var e=jQuery(this);e.html(e.html().replace(/&nbsp;/g,"").replace(/::/g,"&bull;"));var o=e.find(" div a");-1!==o.text().toLowerCase().indexOf("mark")&&o.parent("div").addClass("mark-actions");var a=e.children("select");a.each(function(){jQuery(this).next(".button1, .button2").addBack().wrapAll('<div class="select-actions"></div>')}),e.wrapInner('<div class="display-actions-wrapper"></div>')})}function addOnScroll(e,o,a){var o=jQuery(o).offset().top,n=jQuery(window),t=!1;n.scroll(function(){0==t?n.scrollTop()>o&&(jQuery(e).addClass(a),t=!0):n.scrollTop()<=o&&(jQuery(e).removeClass(a),t=!1)})}function addStickyNav(e,o){var o=jQuery(o).offset().top,a=jQuery(window),n=!1;a.scroll(function(){0==n?a.scrollTop()>o&&(jQuery(e).addClass("sticky"),n=!0):a.scrollTop()<=o&&(jQuery(e).removeClass("sticky"),n=!1)})}function scrollOnPage(e,o,a){addOnScroll(e,".site-description","scroll-to-visible"),jQuery(e).on("click",function(){return jQuery("html, body").animate({scrollTop:a},1e3),!1})}function toggleMobileContent(e,o){jQuery(e).off().on("click",function(){jQuery(o).hasClass("toggle-show")?jQuery(o).removeClass("toggle-show"):jQuery(o).addClass("toggle-show")})}function mobileDropDownPosition(){var e=jQuery(".dropdown-toggle");e.on("click",function(e){function o(){jQuery(t).css({left:"",width:""})}var a=isMobile(baseFontSize,600/baseFontSize),n=jQuery(this).parents("#mobile-menu");if(!(a&&n.length<=0))return!1;var t=jQuery(this).parent().find(".dropdown");if(t.parent().hasClass("dropdown-visible")){var s=jQuery(t).css("padding-left").replace("px","");jQuery(t).css({left:-(t.offset().left-s),width:body.offsetWidth-2*s}),jQuery(document).on("click",function(e){o()})}else o()})}function debounce(e,o,a){var n;return function(){var t=this,s=arguments,i=function(){n=null,a||e.apply(t,s)},l=a&&!n;clearTimeout(n),n=setTimeout(i,o),l&&e.apply(t,s)}}function initializeMobileMenu(e){function o(){i.hasClass("show")?(i.removeClass("show"),jQuery("body, html").removeClass("mobile-open")):(i.addClass("show"),jQuery("body, html").addClass("mobile-open"))}function a(){var a=isMobile(baseFontSize,l/baseFontSize);if(a){if(!r){jQuery(".mobile-menu-header .fa-times").off().on("click",function(){o()}),n.detach().appendTo(i),n.children(".dropdown-container").each(function(){jQuery('<i class="icon fa-chevron-right slide-submenu"></i>').appendTo(this)});var s=jQuery(e.mobileMenu+" > ul > li");s.find(" .slide-submenu").off().on("click",function(){var e=jQuery(this).parent();e.hasClass("dropdown-open")?(s.removeClass("dropdown-close"),e.removeClass("dropdown-open")):(s.addClass("dropdown-close"),e.removeClass("dropdown-close").addClass("dropdown-open"))}),r=!0}}else r&&(n.detach().appendTo(t),jQuery(".slide-submenu").remove(),jQuery("li").removeClass("dropdown-close").removeClass("dropdown-open"),jQuery("body, html").removeClass("mobile-open"),i.removeClass("show"),r=!1)}var n=jQuery(e.menu),t=jQuery(e.menuContainer),s=jQuery(e.mobileButton),i=jQuery(e.mobileMenu),l=e.width,r=!1;s.off().on("click",function(){o()}),a();var c=debounce(function(){a()},100);window.addEventListener("resize",c)}var body=document.querySelector("body"),baseFontSize=16;addBodyClass(),addForumImageClass(),addFieldsetClasses(),addNoPaginationClass(),addImageWrapper(".notification_list .list-inner > img"),addImageWrapper(".notification_list .notification-block > img"),checkForEmpty(".section-mcp-post-details .pagination ul"),checkForEmpty(".section-mcp-post-details .postbody .content pre");var bottomDistance=jQuery(document).height()+jQuery(window).height();jQuery(document).ready(function(e){checkForSpace("fieldset dl dt"),checkForSpace("dl.details dt"),addScrollableArea(e(".topicreview"),400,e(".review .right-box")),addScrollableArea(e(".mcp-main #post_details"),400,e(".mcp-main .post-buttons #expand"));var o=".attach-image";e(o).each(function(){e(this).prepend('<span class="image-open" onclick="viewableArea(this);"><i class="icon icon-xl fa-search-plus fa-fw" aria-hidden="true"></i></span>')}),updateaAttachmentDisplay(".image-open"),updateaAttachmentDisplay(o+" img"),formatDisplayActions();var a=e("#pmheader-postingbox");0==e(a).find("fieldset.fields1").children().length&&e(a).hide();var n=e(".cp-menu"),t=e(".cp-main");(n||t)&&(n.parent().addClass("cp-wrapper"),t.parent().addClass("cp-wrapper")),e("body").hasClass("simple-phpbb")||(addOnScroll("#page-header .navbar",".header-overlay","sticky"),scrollOnPage(".scroll-to-top",100,0),scrollOnPage(".scroll-to-bottom",100,bottomDistance)),toggleMobileContent(".toggle-links a","#page-welcome .site-callouts .site-links"),toggleMobileContent(".toggle-featured a","#featured-content"),mobileDropDownPosition(),initializeMobileMenu({menu:"#page-header .navbar > ul",menuContainer:"#page-header .navbar",mobileButton:".mobile-menu-button",mobileMenu:"#mobile-menu",width:768})});