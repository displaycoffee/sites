function checkForClasses(e){return e.className?" ":""}function isMobile(e,a){var t=window.innerWidth/e,n=document.documentElement.clientWidth/e,o=document.body.clientWidth/e;return a>=(t||n||o)}function addBodyClass(){if(body.getAttribute("data-class"))var e=body.getAttribute("data-class").replace(/[^a-zA-Z ]/g,"").trim().replace(/ /g,"-").replace(/-+/g,"-");e&&(body.className+=checkForClasses(body)+e)}function addForumImageClass(){var e=document.querySelectorAll(".list-inner .forum-image");if(e.length)for(var a=0;a<e.length;a++){var t=e[a].parentNode.parentNode.parentNode;t.className+=checkForClasses(t)+"has-forum-image"}}function addFieldsetClasses(){var e=document.querySelectorAll("fieldset:not(.polls) dl:not(.pmlist) dd");if(e.length)for(var a=0;a<e.length;a++)e[a].children.length>1&&(e[a].className+=checkForClasses(e[a])+"has-multiple-fields"),-1!==e[a].innerHTML.indexOf("&nbsp;")&&(e[a].className+=checkForClasses(e[a])+"has-space")}function addNoPaginationClass(){var e=document.querySelector(".action-bar .pagination");if(e){var a=e.innerText.toLowerCase(),t="page 1 of 1";if(-1!==a.indexOf(t)){var n=new RegExp(t,"gi"),o=a.replace(n,"").match(/\d+/g);o&&0>=o&&(body.className+=checkForClasses(body)+"no-pagination")}}}function noContentListing(){var e=["This board has no forums.","You do not have the required permissions to view or read topics within this forum.","There are no topics or posts in this forum.","This category has no forums.","No suitable matches were found."],a=document.querySelectorAll(".action-bar + .panel .inner");if(a.length)for(var t=0;t<a.length;t++)-1!==e.indexOf(a[t].innerText)&&(a[t].className+=checkForClasses(a[t])+"no-content")}function addSearchIgnoredClass(){var e=document.querySelectorAll(".search.post .postbody");if(e.length)for(var a=0;a<e.length;a++)-1!==e[a].innerHTML.indexOf("ignore list")&&(e[a].className+=checkForClasses(e[a])+"ignore")}function checkForNewPM(){var e=document.querySelectorAll('.cp-menu ul li a[href*="folder"]');if(e.length)for(var a=0;a<e.length;a++)-1!==e[a].innerHTML.indexOf("strong")&&(e[a].className+=checkForClasses(e[a])+"new-pm")}function addImageWrapper(e){var a=document.querySelectorAll(e);if(a.length)for(var t=0;t<a.length;t++){var n=document.createElement("div");n.setAttribute("class","image-wrap"),a[t].parentNode.insertBefore(n,a[t]),n.appendChild(a[t])}}function checkForEmpty(e){var a=document.querySelectorAll(e);if(a.length)for(var t=0;t<a.length;t++)a[t].parentNode.style.display="none"}function checkForSpace(e){jQuery(e).each(function(){var e=jQuery(this);"&nbsp;"==e.html()||"<label>&nbsp;</label>"==e.html()?e.addClass("empty-space"):e.removeClass("empty-space")})}function addScrollableArea(e,a,t){e.length&&e[0].scrollHeight>a?(e.addClass("scrollable"),e.wrapInner('<div class="scrollable-wrapper"></div>')):t.hide()}function updateaAttachmentDisplay(e){jQuery(e).on("click",function(e){var a=jQuery(this).closest(".file").parent();a.hasClass("image-expanded")?a.removeClass("image-expanded"):a.addClass("image-expanded")})}function formatDisplayActions(){jQuery(".display-actions").each(function(){var e=jQuery(this);e.html(e.html().replace(/&nbsp;/g,"").replace(/::/g,"&bull;"));var a=e.find(" div a");-1!==a.text().toLowerCase().indexOf("mark")&&a.parent("div").addClass("mark-actions");var t=e.children("select");t.each(function(){jQuery(this).next(".button1, .button2").addBack().wrapAll('<div class="select-actions"></div>')}),e.wrapInner('<div class="display-actions-wrapper"></div>')})}function addOnScroll(e,a,t){var a=jQuery(a).offset().top,n=jQuery(window),o=!1;n.scroll(function(){0==o?n.scrollTop()>a&&(jQuery(e).addClass(t),o=!0):n.scrollTop()<=a&&(jQuery(e).removeClass(t),o=!1)})}function scrollOnPage(e,a,t){addOnScroll(e,".site-description","scroll-to-visible"),jQuery(e).on("click",function(){return jQuery("html, body").animate({scrollTop:t},1e3),!1})}function toggleMobileContent(e,a){jQuery(e).off().on("click",function(){jQuery(a).hasClass("toggle-show")?jQuery(a).removeClass("toggle-show"):jQuery(a).addClass("toggle-show")})}function debounce(e,a,t){var n;return function(){var o=this,i=arguments,r=function(){n=null,t||e.apply(o,i)},s=t&&!n;clearTimeout(n),n=setTimeout(r,a),s&&e.apply(o,i)}}function initializeMobileMenu(e){function a(){r.hasClass("show")?(r.removeClass("show"),jQuery("body, html").removeClass("mobile-open")):(r.addClass("show"),jQuery("body, html").addClass("mobile-open"))}function t(){var t=isMobile(baseFontSize,s/baseFontSize);if(t){if(!l){jQuery(".mobile-menu-header .fa-times").off().on("click",function(){a()}),n.detach().appendTo(r),n.children(".dropdown-container").each(function(){jQuery('<i class="icon fa-chevron-right slide-submenu"></i>').appendTo(this)});var i=jQuery(e.mobileMenu+" > ul > li");i.find(" .slide-submenu").off().on("click",function(){var e=jQuery(this).parent();e.hasClass("dropdown-open")?(i.removeClass("dropdown-close"),e.removeClass("dropdown-open")):(i.addClass("dropdown-close"),e.removeClass("dropdown-close").addClass("dropdown-open"))}),l=!0}}else l&&(n.detach().appendTo(o),jQuery(".slide-submenu").remove(),jQuery("li").removeClass("dropdown-close").removeClass("dropdown-open"),jQuery("body, html").removeClass("mobile-open"),r.removeClass("show"),l=!1)}var n=jQuery(e.menu),o=jQuery(e.menuContainer),i=jQuery(e.mobileButton),r=jQuery(e.mobileMenu),s=e.width,l=!1;i.off().on("click",function(){a()}),t();var c=debounce(function(){t()},100);window.addEventListener("resize",c)}function updateProfileFields(){function e(e){e.prop("disabled")||e.prop("disabled",!0),e.find("option").each(function(){jQuery(this).prop("disabled")||jQuery(this).prop("disabled",!0)})}function a(e,a){e.find("option:selected").removeAttr("selected");for(var t=e.find("option"),n=0;n<t.length;n++)if(jQuery(t[n]).text().trim()==a){e.val(jQuery(t[n]).val());break}}function t(e){e.prop("disabled")&&e.prop("disabled",!1)}function n(e){e.find("option").each(function(){jQuery(this).prop("disabled")&&jQuery(this).prop("disabled",!1)})}function o(e){e.prop({disabled:!0,checked:!1})}function i(e){return e.find("option:selected").text().trim()}for(var r=(jQuery("#pf_account_type"),jQuery("[id^=pf_c_]"),jQuery("#pf_c_race_type")),s=jQuery("#pf_c_race_a_opts"),l=jQuery("#pf_c_race_b_opts"),c=(jQuery("#pf_c_class_type"),jQuery("#pf_c_class_a_opts")),d=jQuery("#pf_c_class_b_opts"),p=(jQuery("#pf_c_religion_type"),jQuery('input[name="pf_c_religion_opts[]"]')),u="-- Please Select --",f=[s,l,p,c,d],h=0;h<f.length;h++)f[h].is("select")&&e(f[h]),f[h].is('input[type="checkbox"]')&&o(f[h]);var m={Dwarf:["Human","Kerasoka","Shapeshifter"],Elemental:["Fae","Human","Kerasoka","Lumeacia","Shapeshifter"],Fae:["Elemental","Human","Kerasoka","Shapeshifter"],Human:["Dwarf","Elemental","Fae","Kerasoka","Shapeshifter","Ue'drahc"],Kerasoka:["Dwarf","Elemental","Fae","Human","Lumeacia","Shapeshifter"],Lumeacia:["Elemental","Kerasoka"],Shapeshifter:["Dwarf","Elemental","Fae","Human","Kerasoka"],"Ue'drahc":["Human"]};r.on("change",function(){var o=i(r);a(s,u),a(l,u),e(s),e(l),o!=u&&(t(s),"Full Blooded"==o?n(s):"Half-Breed"==o&&s.find("option").each(function(){var e=jQuery(this).text().trim();m[e]&&jQuery(this).prop("disabled",!1)}))}),s.on("change",function(){var n=i(s);if(a(l,u),e(l),n!=u&&"Half-Breed"==i(r)){t(l);var o=m[n];o&&o.length&&l.find("option").each(function(){var e=jQuery(this).text().trim();o.indexOf(e)>-1?jQuery(this).prop("disabled",!1):jQuery(this).prop("disabled",!0)})}})}function profileThings(){function e(){i.each(function(){var e=jQuery(this);e.is("select")?(e.find("option:selected").removeAttr("selected"),n(e,r)):(e.is('input[type="checkbox"]')&&e.prop("checked",!1),e.val(""))}),jQuery.each(s,function(e,a){var t=jQuery('label[for="'+e+'"]').closest("dl");n(t,a.hidden)})}function a(){i.each(function(){var e=jQuery(this);l.indexOf(e.attr("name"))>-1&&jQuery(this).prop("disabled",!0)})}function t(e,a,t,i,s){var l=jQuery(e),c=jQuery(a),d=jQuery(t);l.on("change",function(){c.find("option").each(function(){jQuery(this).prop("disabled",!1)}),n(c,r),n(d,r),c.add(d).prop("disabled",!0),o(jQuery(this))!=r&&(o(jQuery(this))==i&&c.find("option").each(function(){s[jQuery(this).text().trim()]||jQuery(this).prop("disabled",!0)}),c.prop("disabled",!1))}),c.on("change",function(){o(l)==i&&o(jQuery(this))!=r?d.prop("disabled",!1):(n(d,r),d.prop("disabled",!0))})}function n(e,a){e.find("option:selected").removeAttr("selected"),e.find("option").each(function(){if(jQuery(this).text().trim()==a){var t=jQuery(this).val();e.find("select").val(t)}})}function o(e){return e.find("option:selected").text().trim()}if(jQuery("body").hasClass("section-ucp-register")){var i=jQuery("[id^=pf_c_]"),r="-- Please Select --",s={pf_c_race_type:{fieldType:"select",hidden:"Full Blooded"},pf_c_race_a_opts:{fieldType:"select",hidden:"Human"},pf_c_class_type:{fieldType:"select",hidden:"Single"},pf_c_class_a_opts:{fieldType:"select",hidden:"Fighter"}},l=["pf_c_race_a_opts","pf_c_race_b_opts","pf_c_religion_opts[]","pf_c_class_a_opts","pf_c_class_b_opts"],c={Dwarf:["Human","Kerasoka","Shapeshifter"],Elemental:["Fae","Human","Kerasoka","Lumeacia","Shapeshifter"],Fae:["Elemental","Human","Kerasoka","Shapeshifter"],Human:["Dwarf","Elemental","Fae","Kerasoka","Shapeshifter","Ue'drahc"],Kerasoka:["Dwarf","Elemental","Fae","Human","Lumeacia","Shapeshifter"],Lumeacia:["Elemental","Kerasoka"],Shapeshifter:["Dwarf","Elemental","Fae","Human","Kerasoka"],"Ue'drahc":["Human"]},d=jQuery("#pf_account_type"),p=o(d);a(),t("#pf_c_race_type","#pf_c_race_a_opts","#pf_c_race_b_opts","Half-Breed",c),t("#pf_c_class_type","#pf_c_class_a_opts","#pf_c_class_b_opts","Dual"),d.on("change",function(){p=o(jQuery(this))}),jQuery("#register").on("submit",function(a){p=o(d),"10"==p&&(i.each(function(){jQuery(this).prop("disabled",!1)}),e())})}}var body=document.querySelector("body"),baseFontSize=16,religionAllowed={Archaicism:["Dainyil","Ixaziel","Ny'tha","Pheriss","Ristgir"],Idolism:["Cecilia","Bhelest"]};addBodyClass(),addForumImageClass(),addFieldsetClasses(),addNoPaginationClass(),noContentListing(),addSearchIgnoredClass(),checkForNewPM(),addImageWrapper(".notification_list .list-inner > img"),addImageWrapper(".notification_list .notification-block > img"),checkForEmpty(".section-mcp-post-details .pagination ul"),checkForEmpty(".section-mcp-post-details .postbody .content pre");var bottomDistance=jQuery(document).height()+jQuery(window).height();jQuery(document).ready(function(e){checkForSpace("fieldset dl dt"),checkForSpace("dl.details dt"),addScrollableArea(e(".topicreview"),400,e(".review .right-box")),addScrollableArea(e(".mcp-main #post_details"),400,e(".mcp-main .post-buttons #expand"));var a=".attach-image";e(a).each(function(){e(this).prepend('<span class="image-open" onclick="viewableArea(this);"><i class="icon icon-xl fa-search-plus fa-fw" aria-hidden="true"></i></span>')}),updateaAttachmentDisplay(".image-open"),updateaAttachmentDisplay(a+" img"),formatDisplayActions();var t=e("#pmheader-postingbox");0==e(t).find("fieldset.fields1").children().length&&e(t).hide();var n=e(".cp-menu"),o=e(".cp-main");(n||o)&&(n.parent().addClass("cp-wrapper"),o.parent().addClass("cp-wrapper")),e("body").hasClass("simple-phpbb")||(addOnScroll("#page-header .navbar",".header-overlay","sticky"),scrollOnPage(".scroll-to-top",100,0),scrollOnPage(".scroll-to-bottom",100,bottomDistance)),toggleMobileContent(".toggle-links a","#page-welcome .site-callouts .site-links"),toggleMobileContent(".toggle-featured a","#featured-content"),initializeMobileMenu({menu:"#page-header .navbar > ul",menuContainer:"#page-header .navbar",mobileButton:".mobile-menu-button",mobileMenu:"#mobile-menu",width:768}),updateProfileFields()});