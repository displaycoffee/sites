function addFeatherLightGallery(e){jQuery(e).each(function(){var e,o=jQuery(this),n=o.attr("id"),s=o.find(".gallery-item .gallery-icon a");jQuery(s).each(function(){var o=jQuery(this),s=/\.(gif|jpg|jpeg|tiff|png|bmp|svg)$/i.test(o.attr("href"));return 0==s?(e=!1,!1):void(e=n)}),e==n&&jQuery(s).featherlightGallery({previousIcon:'<span class="icon icon-chevron-left"></span>',nextIcon:'<span class="icon icon-chevron-right"></span>',closeIcon:'<span class="icon icon-close"></span>',galleryFadeIn:300,openSpeed:300,afterOpen:function(e){jQuery("body, html").addClass("featherlight-open")},afterClose:function(e){jQuery("body, html").removeClass("featherlight-open")}})})}function scrollOnPage(e,o,n){jQuery(window).scroll(function(){jQuery(this).scrollTop()>o?jQuery(e).fadeIn():jQuery(e).fadeOut()}),jQuery(e).click(function(){return jQuery("html, body").animate({scrollTop:n},1e3),!1})}function toggleSpoilerContent(){jQuery(".spoiler").each(function(){var e=jQuery(this),o=e.find(".spoiler-close"),n=e.find(".spoiler-open"),s=e.find(".spoiler-content");o.add(s).addClass("spoiler-hide"),jQuery(n).click(function(){o.add(s).addClass("spoiler-show").removeClass("spoiler-hide"),n.addClass("spoiler-hide").removeClass("spoiler-show")}),jQuery(o).click(function(){o.add(s).addClass("spoiler-hide").removeClass("spoiler-show"),n.addClass("spoiler-show").removeClass("spoiler-hide")})})}function debounce(e,o,n){var s;return function(){var i=this,r=arguments,l=function(){s=null,n||e.apply(i,r)},t=n&&!s;clearTimeout(s),s=setTimeout(l,o),t&&e.apply(i,r)}}function initializeMobileMenu(e){function o(){l.hasClass("show")?(l.removeClass("show"),jQuery("body, html").removeClass("mobile-open")):(l.addClass("show"),jQuery("body, html").addClass("mobile-open"))}function n(){var e=window.innerWidth/baseFontSize,n=document.documentElement.clientWidth/baseFontSize,r=document.body.clientWidth/baseFontSize,c=t/baseFontSize;if(c>=(e||n||r)){if(!a){var d='<header class="mobile-menu-header"><span class="mobile-header">Menu</span><span class="icon icon-remove"></span></header>';jQuery(d).appendTo(l),jQuery(".mobile-menu-header .icon-remove").click(function(){o()}),s.detach().appendTo(l),s.children("ul").children("li").each(function(){var e=jQuery(this),o=e.children("ul");o.length>0&&jQuery('<span class="icon icon-chevron-right slide-submenu"></span>').insertBefore(o)}),jQuery(".slide-submenu").click(function(){jQuery(this).next().hasClass("slide-open")?(s.children("ul").children("li").removeClass("slide-close"),jQuery(this).next().add(jQuery(this).parent()).removeClass("slide-open")):(s.children("ul").children("li").addClass("slide-close"),jQuery(this).next().add(jQuery(this).parent()).addClass("slide-open").removeClass("slide-close"))}),a=!0}}else a&&(jQuery(".mobile-menu-header").remove(),s.detach().appendTo(i),jQuery(".slide-submenu").remove(),jQuery("ul, li").removeClass("slide-open"),jQuery("li").removeClass("slide-close"),jQuery("body, html").removeClass("mobile-open"),l.removeClass("show"),a=!1)}var s=jQuery(e.menu),i=jQuery(e.menuContainer),r=jQuery(e.mobileButton),l=jQuery(e.mobileMenu),t=e.width,a=!1;r.click(function(){o()}),n();var c=debounce(function(){n()},100);window.addEventListener("resize",c)}var bottomDistance=jQuery(document).height()+jQuery(window).height(),baseFontSize=16;jQuery(document).ready(function(e){var o=e(".section-viewforum .forum-title ~ .panel > .inner > strong"),n=o.text();"There are no topics or posts in this forum."==n&&o.closest(".panel").addClass("no-topics");var s=e(".section-posting #postform .submit-buttons");s.length&&s.closest(".panel").add(".section-posting #postform #postingbox").wrapAll('<div class="posting-wrapper panel"></div>');var i=e(".topicreview");i.length&&i[0].scrollHeight>400&&i.wrapInner('<div class="topicreview-wrapper"></div>'),scrollOnPage(".scroll-to-top",100,0),scrollOnPage(".scroll-to-bottom",100,bottomDistance)});