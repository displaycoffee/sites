function addScrollableArea(e,o,a){e.length&&e[0].scrollHeight>o?(e.addClass("scrollable"),e.wrapInner('<div class="scrollable-wrapper"></div>')):a.hide()}function updateaAttachmentDisplay(e){jQuery(e).on("click",function(e){var o=jQuery(this).closest(".file").parent();o.hasClass("image-expanded")?o.removeClass("image-expanded"):o.addClass("image-expanded")})}function addOnScroll(e,o,a){var o=jQuery(o).offset().top,n=jQuery(window),l=!1;n.scroll(function(){0==l?n.scrollTop()>o&&(jQuery(e).addClass(a),l=!0):n.scrollTop()<=o&&(jQuery(e).removeClass(a),l=!1)})}function addStickyNav(e,o){var o=jQuery(o).offset().top,a=jQuery(window),n=!1;a.scroll(function(){0==n?a.scrollTop()>o&&(jQuery(e).addClass("sticky"),n=!0):a.scrollTop()<=o&&(jQuery(e).removeClass("sticky"),n=!1)})}function scrollOnPage(e,o,a){addOnScroll(e,".site-description","scroll-to-visible"),jQuery(e).on("click",function(){return jQuery("html, body").animate({scrollTop:a},1e3),!1})}function toggleMobileContent(e,o){jQuery(e).off().on("click",function(){jQuery(o).hasClass("toggle-show")?jQuery(o).removeClass("toggle-show"):jQuery(o).addClass("toggle-show")})}function debounce(e,o,a){var n;return function(){var l=this,t=arguments,r=function(){n=null,a||e.apply(l,t)},i=a&&!n;clearTimeout(n),n=setTimeout(r,o),i&&e.apply(l,t)}}function initializeMobileMenu(e){function o(){r.hasClass("show")?(r.removeClass("show"),jQuery("body, html").removeClass("mobile-open")):(r.addClass("show"),jQuery("body, html").addClass("mobile-open"))}function a(){var a=window.innerWidth/baseFontSize,t=document.documentElement.clientWidth/baseFontSize,d=document.body.clientWidth/baseFontSize,c=i/baseFontSize;if(c>=(a||t||d)){if(!s){jQuery(".mobile-menu-header .fa-times").off().on("click",function(){o()}),n.detach().appendTo(r),n.children(".dropdown-container").each(function(){jQuery('<i class="icon fa-chevron-right slide-submenu"></i>').appendTo(this)});var u=jQuery(e.mobileMenu+" > ul > li");u.find(" .slide-submenu").off().on("click",function(){var e=jQuery(this).parent();e.hasClass("dropdown-open")?(u.removeClass("dropdown-close"),e.removeClass("dropdown-open")):(u.addClass("dropdown-close"),e.removeClass("dropdown-close").addClass("dropdown-open"))}),s=!0}}else s&&(n.detach().appendTo(l),jQuery(".slide-submenu").remove(),jQuery("li").removeClass("dropdown-close").removeClass("dropdown-open"),jQuery("body, html").removeClass("mobile-open"),r.removeClass("show"),s=!1)}var n=jQuery(e.menu),l=jQuery(e.menuContainer),t=jQuery(e.mobileButton),r=jQuery(e.mobileMenu),i=e.width,s=!1;t.off().on("click",function(){o()}),a();var d=debounce(function(){a()},100);window.addEventListener("resize",d)}var bottomDistance=jQuery(document).height()+jQuery(window).height(),baseFontSize=16,body=document.getElementsByTagName("body");if(body[0].getAttribute("data-class"))var bodyClass=body[0].getAttribute("data-class").replace(/[^a-zA-Z ]/g,"").trim().replace(/ /g,"-").replace(/-+/g,"-");bodyClass&&(body[0].className=body[0].className+(" "+bodyClass));var forumImage=document.querySelectorAll(".list-inner .forum-image");if(forumImage.length)for(var i=0;i<forumImage.length;i++){var parentRow=forumImage[i].parentNode.parentNode.parentNode;parentRow.className=parentRow.className+" has-forum-image"}jQuery(document).ready(function(e){var o=e(".topicreview");addScrollableArea(o,400,e(".review .right-box"));var a=e(".mcp-main #post_details");addScrollableArea(a,400,e(".mcp-main .post-buttons #expand"));var n=".attach-image";jQuery(n).each(function(){jQuery(this).prepend('<span class="image-open" onclick="viewableArea(this);"><i class="icon icon-xl fa-search-plus fa-fw" aria-hidden="true"></i></span>')}),updateaAttachmentDisplay(".image-open"),updateaAttachmentDisplay(n+" img");var l=e("#pmheader-postingbox");0==e(l).find("fieldset.fields1").children().length&&e(l).hide();var t=e(".mcp-main .pagination");0==e(t).find("ul").children().length&&e(t).hide();var r=e(".cp-menu"),i=e(".cp-main");(r||i)&&(r.parent().addClass("cp-wrapper"),i.parent().addClass("cp-wrapper")),addOnScroll("#page-header .navbar",".header-overlay","sticky"),scrollOnPage(".scroll-to-top",100,0),scrollOnPage(".scroll-to-bottom",100,bottomDistance),toggleMobileContent(".toggle-links a","#page-welcome .site-callouts .site-links"),toggleMobileContent(".toggle-featured a","#featured-content"),initializeMobileMenu({menu:"#page-header .navbar > ul",menuContainer:"#page-header .navbar",mobileButton:".mobile-menu-button",mobileMenu:"#mobile-menu",width:768})});